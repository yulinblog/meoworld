import{s as v}from"./unsplashApi-cf2a1fd3.js";import{p as V,v as u,u as b,e as w,a,w as s,f as x,o as C,g as U,K as q,I as A,C as r,D as N,j as T,m as t,U as z,A as D,t as o,k as _,h as p,E as B,O as L}from"./index-238de57f.js";const O={class:""},P=t("span",null," Unsplash Users",-1),S={class:"font-weight-bold"},E=["src"],H={class:"text-center"},I={class:"text-center"},R=["href"],G=V({__name:"DataTablePage",setup(j){const d=u(!0),m=u(0),n=b({query:"cat",page:1,per_page:25}),h=[{title:"用户名",key:"username"},{title:"头像",key:"avatar"},{title:"用户id",key:"id"},{title:"全名",key:"name"},{title:"位置",key:"location",width:"200px"},{title:"是否可用",key:"for_hire",align:"center"},{title:"收藏数",key:"total_collections"},{title:"喜欢数",key:"total_likes"},{title:"照片数",key:"total_photos"},{title:"接受条款",key:"accepted_tos",align:"center"},{title:"作品集",key:"portfolio_url"}],f=u([]),g=async()=>{d.value=!0;const i=await v(n);f.value=i.data.results.map(l=>({id:l.id,avatar:l.profile_image.small,username:l.username,name:l.name,location:l.location,for_hire:l.for_hire,total_collections:l.total_collections,total_likes:l.total_likes,total_photos:l.total_photos,accepted_tos:l.accepted_tos,portfolio_url:l.portfolio_url})),m.value=i.data.total,d.value=!1},y=async c=>{n.per_page=c.itemsPerPage,n.page=c.page,await g()},k=c=>c>400?"red":c>200?"orange":"grey";return(c,i)=>{const l=L("v-data-table-server");return C(),w("div",O,[a(x,null,{default:s(()=>[a(U,{class:"font-weight-bold"},{default:s(()=>[P,a(q),a(A,{modelValue:r(n).query,"onUpdate:modelValue":i[0]||(i[0]=e=>r(n).query=e),variant:"solo",class:"elevation-1","append-icon":"mdi-magnify","onClick:append":g,label:"Search","single-line":"","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),a(N),a(T,null,{default:s(()=>[a(l,{headers:h,items:r(f),search:r(n).query,loading:r(d),"items-per-page":r(n).per_page,"items-length":r(m),"item-value":"id","onUpdate:options":y},{item:s(({item:e})=>[t("tr",null,[t("td",S,[a(z,{text:e.columns.username},null,8,["text"])]),t("td",null,[a(D,{size:"30"},{default:s(()=>[t("img",{src:e.columns.avatar,alt:"alt"},null,8,E)]),_:2},1024)]),t("td",null,o(e.columns.id),1),t("td",null,o(e.columns.name),1),t("td",null,o(e.columns.location),1),t("td",H,[a(_,{size:"small",color:e.columns.for_hire?"blue":"grey",class:"font-weight-bold"},{default:s(()=>[p(o(e.columns.for_hire?"Hire":"No Hire"),1)]),_:2},1032,["color"])]),t("td",null,o(e.columns.total_collections),1),t("td",null,[a(_,{size:"small",color:k(e.columns.total_likes),class:"font-weight-bold"},{default:s(()=>[p(o(e.columns.total_likes),1)]),_:2},1032,["color"])]),t("td",null,o(e.columns.total_photos),1),t("td",I,[a(_,{size:"small",color:e.columns.accepted_tos?"green":"pink",class:"font-weight-bold"},{default:s(()=>[a(B,{start:"",icon:e.columns.accepted_tos?"mdi-security ":"mdi-close-octagon"},null,8,["icon"]),p(" "+o(e.columns.accepted_tos?"Accepted":"Not Accepted"),1)]),_:2},1032,["color"])]),t("td",null,[t("a",{href:e.columns.portfolio_url,target:"_blank"},o(e.columns.portfolio_url),9,R)])])]),_:1},8,["items","search","loading","items-per-page","items-length"])]),_:1})]),_:1})])}}});export{G as default};
