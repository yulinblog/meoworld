import{h as R}from"./moment-fbc5633a.js";import{_ as G,f as H}from"./AnimationUpload.vue_vue_type_script_setup_true_lang-d22a60be.js";import{p as K,v as _,W as q,c as n,w as e,d as A,o as a,m as r,a as l,z as x,al as O,C as o,Q as b,e as h,r as E,F as C,k as z,h as d,t as c,S as Q,q as y,am as W,E as F,I as $,G as P,D as S,y as U,f as J,g as X,K as Z,j as ee,B as M,O as B}from"./index-238de57f.js";const te={class:"d-flex justify-space-between align-start"},le={key:1,class:"text-overline text-grey-darken-3 mx-2"},ae={class:"mt-1 d-flex align-center"},se={class:"text-center"},ie=r("h3",{class:"text-h5 text-md-h3 font-weight-bold text-primary"}," Upload Some Images ",-1),ne={class:"d-flex align-center pa-3"},oe={class:"flex-fill"},re={class:"text-h6 font-weight-bold"},de={class:"text-grey"},ce={key:1,class:"view"},ue={class:"font-weight-bold"},_e=K({__name:"FileUploadPreviewPage",setup(me){const u=_([]),m=_([]),w=_([]),I=async()=>{m.value.length=0;for(const s of u.value){const i=new FileReader;i.readAsDataURL(s);const k=new Promise((V,t)=>{i.onload=()=>{const f=new Image;f.src=i.result,f.onload=()=>{const v=f.width,L=f.height;V({name:s.name,size:H(s.size),imageSize:v+"x"+L,type:s.type,suffix:s.name.split(".").pop(),lastModifiedDate:R(s.lastModifiedDate).format("YYYY-MM-DD HH:mm:ss"),link:i.result,previewEnabled:!0})}},i.onerror=()=>{t(i.error)}});m.value.push(await k)}},N=s=>{u.value.splice(s,1),m.value.splice(s,1)},T=()=>{u.value.length=0,m.value.length=0},p=_("grid"),Y=()=>{p.value=p.value==="grid"?"list":"grid"},j=[{title:"FileName",key:"name",align:"center"},{title:"ImageSize",key:"imageSize",align:"center"},{title:"Suffix",key:"suffix",align:"center"},{title:"TYPE",key:"type",align:"center"},{title:"FileSize",key:"size",align:"center"},{title:"Created",key:"lastModifiedDate",align:"center"},{title:"Preview",key:"link",align:"center"},{title:"PreviewEnabled",key:"previewEnabled",align:"center"}],g=_(""),D=q(()=>m.value.filter(s=>s.name.includes(g.value)||s.suffix.includes(g.value)));return(s,i)=>{const k=B("perfect-scrollbar"),V=B("v-data-table");return a(),n(A,null,{default:e(()=>[r("div",te,[l(P,null,{default:e(()=>[l(x,{cols:"12",md:"8",lg:"7"},{default:e(()=>[l(O,{modelValue:o(u),"onUpdate:modelValue":i[0]||(i[0]=t=>b(u)?u.value=t:null),onChange:I,color:"primary",counter:"",label:"Images Upload",accept:"image/png, image/jpeg, image/bmp",multiple:"",placeholder:"Upload your images","prepend-icon":"mdi-image-multiple-outline",variant:"solo","onClick:clear":T,"show-size":1e3},{selection:e(({fileNames:t})=>[(a(!0),h(C,null,E(t,(f,v)=>(a(),h(C,null,[v<6?(a(),n(z,{key:0,color:"primary",label:"",size:"small",class:"me-2"},{default:e(()=>[d(c(f),1)]),_:2},1024)):v===6?(a(),h("span",le," +"+c(o(u).length-2)+" File(s) ",1)):Q("",!0)],64))),256))]),_:1},8,["modelValue"])]),_:1}),l(x,{cols:"12",offsetLg:"2",md:"4",lg:"3"},{default:e(()=>[r("div",ae,[l(y,{class:"mx-2",icon:"",rounded:"sm",variant:"flat",color:"primary",onClick:Y},{default:e(()=>[l(W,{activator:"parent",location:"left",text:o(p)==="list"?"Grid View":"List View"},null,8,["text"]),o(p)==="list"?(a(),n(F,{key:0},{default:e(()=>[d("mdi-view-grid ")]),_:1})):(a(),n(F,{key:1},{default:e(()=>[d("mdi-view-list")]),_:1}))]),_:1}),l($,{modelValue:o(g),"onUpdate:modelValue":i[1]||(i[1]=t=>b(g)?g.value=t:null),variant:"solo",label:"Search","hide-details":"","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])])]),_:1})]),_:1})]),l(S,{class:"my-5"}),o(m).length===0?(a(),n(U,{key:0,class:"d-flex align-center justify-center",height:"800"},{default:e(()=>[r("div",se,[ie,l(G,{size:300})])]),_:1})):(a(),n(U,{key:1},{default:e(()=>[o(p)==="grid"?(a(),n(k,{key:0,class:"view pa-5"},{default:e(()=>[l(P,null,{default:e(()=>[(a(!0),h(C,null,E(o(D),t=>(a(),n(x,{class:"6",md:"4",lg:"3",key:t.link},{default:e(()=>[l(J,null,{default:e(()=>[l(X,null,{default:e(()=>[l(Z),l(y,{onClick:N,class:"text-primary",variant:"flat"},{default:e(()=>[l(F,{size:"30"},{default:e(()=>[d("mdi-delete")]),_:1})]),_:1})]),_:1}),l(S),l(ee,null,{default:e(()=>[l(M,{height:"300",src:t.link},null,8,["src"])]),_:2},1024),l(S),r("div",ne,[r("div",oe,[r("h5",re,c(t.name),1),r("h6",de,c(t.suffix)+" "+c(t.imageSize),1)]),r("div",null,[l(z,{color:"primary",class:"font-weight-bold",label:"",rounded:"sm",variant:"elevated"},{default:e(()=>[d(c(t.type),1)]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(a(),h("div",ce,[l(V,{modelValue:o(w),"onUpdate:modelValue":i[2]||(i[2]=t=>b(w)?w.value=t:null),headers:j,items:o(D),"item-value":"name","show-select":"","fixed-header":"",height:"700"},{"item.name":e(({item:t})=>[r("span",ue,c(t.raw.name),1)]),"item.link":e(({item:t})=>[l(M,{class:"mx-auto my-2",src:t.raw.link,height:"100",round:"sm"},null,8,["src"])]),"item.type":e(({item:t})=>[l(z,{class:"font-weight-bold",color:"primary"},{default:e(()=>[d(c(t.raw.type),1)]),_:2},1024)]),"item.previewEnabled":e(({item:t})=>[t.raw.previewEnabled?(a(),n(y,{key:0,class:"font-weight-bold",variant:"flat",color:"blue"},{default:e(()=>[d("Yes")]),_:1})):(a(),n(y,{key:1,class:"font-weight-bold",variant:"flat",color:"error"},{default:e(()=>[d("No")]),_:1}))]),_:1},8,["modelValue","items"])]))]),_:1}))]),_:1})}}});export{_e as default};
