import{a as S}from"./unsplashApi-cf2a1fd3.js";import{p as E,v as u,u as I,c as k,w as o,d as U,o as p,a as l,g as q,K as z,m as t,I as B,C as r,D as L,t as c,A as R,U as w,k as _,B as V,q as T,h as C,e as A,r as N,F as Y,f as F,Q as M,bb as $,O as j}from"./index-238de57f.js";import{h as K}from"./moment-fbc5633a.js";const G=t("span",null," Unsplash Photos",-1),H={class:"w-25"},Q={class:"font-weight-bold"},W=["src"],Z={class:"text-center"},J={class:"text-center"},X={class:"pa-2"},ee=t("img",{width:"26",src:"https://img.icons8.com/fluency/48/null/down.png"},null,-1),ne=E({__name:"PhotosDataPage",setup(te){const m=u(!0),f=u(0),i=I({query:"cat",page:1,per_page:25}),b=[{title:"ID",key:"id"},{title:"USER",key:"user"},{title:"COLOR",key:"color",align:"center"},{title:"SIZE",key:"size",align:"center"},{title:"DESCRIPTION",key:"alt_description"},{title:"THUMB",key:"thumb"},{title:"DOWNLOAD",key:"download"},{title:"LIKES",key:"likes"},{title:"TAGS",key:"tags"},{title:"CREATED",key:"created_at"}],h=u([]),v=async()=>{m.value=!0;const s=await S(i);h.value=s.data.results.map(a=>({id:a.id,user:a.user,color:a.color,size:a.width+" x "+a.height,alt_description:a.alt_description,thumb:a.urls,download:a.links.download,likes:a.likes,tags:a.tags,created_at:K(a.created_at).format("YYYY/MM/DD")})),f.value=s.data.total,m.value=!1},x=async n=>{i.query&&(i.page=n.page,i.per_page=n.itemsPerPage,await v())},D=n=>n>400?"red":n>200?"orange":"grey",O=n=>{const s=document.createElement("a");s.href=n.download+"&force=true",s.download=n.id+".jpg",s.click()},d=u(!1),y=u(""),P=n=>{y.value=n,d.value=!0};return(n,s)=>{const a=j("v-data-table-server");return p(),k(U,null,{default:o(()=>[l(F,null,{default:o(()=>[l(q,{class:"font-weight-bold"},{default:o(()=>[G,l(z),t("div",H,[l(B,{modelValue:r(i).query,"onUpdate:modelValue":s[0]||(s[0]=e=>r(i).query=e),variant:"solo","prepend-inner-icon":"mdi-magnify","onClick:append":v,label:"Search","single-line":"","hide-details":"",clearable:"",density:"compact"},null,8,["modelValue"])])]),_:1}),l(L),t("div",null,[l(a,{headers:b,items:r(h),search:r(i).query,loading:r(m),"items-per-page":r(i).per_page,"items-length":r(f),"item-value":"id","onUpdate:options":x,"fixed-header":"",height:"900"},{item:o(({item:e})=>[t("tr",null,[t("td",null,c(e.columns.id),1),t("td",Q,[l(R,{size:"30",class:"mr-2"},{default:o(()=>[t("img",{src:e.columns.user.profile_image.small,alt:"alt"},null,8,W)]),_:2},1024),l(w,{text:e.columns.user.username},null,8,["text"])]),t("td",Z,[l(_,{size:"small",color:e.columns.color},{default:o(()=>[l(w,{text:e.columns.color},null,8,["text"])]),_:2},1032,["color"])]),t("td",J,c(e.columns.size),1),t("td",null,c(e.columns.alt_description),1),t("td",X,[l(V,{src:e.columns.thumb.thumb,height:"100",width:"160",cover:"",class:"rounded-lg v-card--link",onClick:g=>P(e.columns.thumb.regular)},null,8,["src","onClick"])]),t("td",null,[l(T,{variant:"flat",icon:"",onClick:g=>O(e.columns)},{default:o(()=>[ee]),_:2},1032,["onClick"])]),t("td",null,[l(_,{size:"small",color:D(e.columns.likes),class:"font-weight-bold"},{default:o(()=>[C(c(e.columns.likes),1)]),_:2},1032,["color"])]),t("td",null,[(p(!0),A(Y,null,N(e.columns.tags,g=>(p(),k(_,{variant:"outlined",color:"grey",size:"small",class:"font-weight-bold mr-1"},{default:o(()=>[C(c(g.title),1)]),_:2},1024))),256))]),t("td",null,c(e.columns.created_at),1)])]),_:1},8,["items","search","loading","items-per-page","items-length"])])]),_:1}),l($,{modelValue:r(d),"onUpdate:modelValue":s[2]||(s[2]=e=>M(d)?d.value=e:null),"location-strategy":"connected","scroll-strategy":"none"},{default:o(()=>[t("div",{onClick:s[1]||(s[1]=e=>d.value=!1),class:"w-screen h-screen d-flex align-center justify-center"},[l(V,{height:"80%",src:r(y)},null,8,["src"])])]),_:1},8,["modelValue"])]),_:1})}}});export{ne as default};
