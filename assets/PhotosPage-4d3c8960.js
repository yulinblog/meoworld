import{p as te,v as A,o as s,c as n,w as e,a as t,K as G,q as _,E as B,h as c,aC as ne,C as o,e as v,F as C,r as P,f as g,m as r,B as w,t as u,bn as fe,S as I,a1 as ge,a2 as me,_ as ae,u as b,A as M,am as q,aa as D,J as N,x as ve,d as ye,aq as j,aW as ke,I as xe,R as be,z as U,bo as we,Q as X,bp as Z,j as H,bq as Ve,br as O,G as x,bs as Y,bt as ee,a5 as Ce,g as oe,i as re,bu as Pe,X as $e,aZ as Se}from"./index-238de57f.js";import{u as le,P as ze}from"./PhotoDetailModal-c3bd60ba.js";import{c as R,B as E}from"./unsplashConfig-8eaca464.js";import"./install-47547726.js";const qe=i=>(ge("data-v-63d3f260"),i=i(),me(),i),Ie=qe(()=>r("span",null," My favorite ",-1)),Te={key:0,class:"favorite-container pa-3"},Ue={style:{width:"100px"}},De={class:"px-2 flex-fill two-line"},Ae=te({__name:"FavoriteCard",setup(i){const $=le();return A(!1),(K,m)=>(s(),n(g,{class:"mt-2 my-favorite",height:"80vh"},{default:e(()=>[t(ne,{class:"pl-5",density:"compact",color:"primary"},{default:e(()=>[Ie,t(G),t(_,{icon:"",variant:"text"},{default:e(()=>[t(B,null,{default:e(()=>[c("mdi-open-in-new")]),_:1})]),_:1})]),_:1}),o($).favoriteList.length>0?(s(),v("div",Te,[t(fe,{name:"fade",class:""},{default:e(()=>[(s(!0),v(C,null,P(o($).favoriteList,h=>(s(),n(g,{key:h.id,class:"d-flex align-center favorite-card mb-3"},{default:e(()=>[r("div",Ue,[t(w,{"aspect-ratio":1,width:"100",cover:"",src:h.urls.thumb,"lazy-src":h.urls.thumb},null,8,["src","lazy-src"])]),r("div",De,u(h.description||h.alt_description),1)]),_:2},1024))),128))]),_:1})])):I("",!0)]),_:1}))}});const Be=ae(Ae,[["__scopeId","data-v-63d3f260"]]),Fe={class:""},Le={class:"card-top bg-secondary-lighten-1 text-content"},je=["src"],Re={class:"flex-fill"},Ee={class:"d-flex px-2"},Ge=te({__name:"UserCard",props:{user:null},setup(i){return le(),b({isShow:!1,timeout:1e3,text:""}),($,K)=>(s(),v("div",Fe,[t(g,{width:"100%",class:"user-card d-flex flex-column justify-space-between"},{default:e(()=>[r("div",Le,[t(M,{class:"mr-5",size:"avatarSize"},{default:e(()=>[r("img",{src:i.user.profile_image.small,alt:"alt"},null,8,je)]),_:1}),r("div",Re,[r("h5",null,u(i.user.name),1),r("h5",null,u(i.user.username),1)]),t(q,{location:"bottom",text:"Add To Collection"},{activator:e(({props:m})=>[t(_,D(m,{icon:"mdi-plus"}),null,16)]),_:1})]),r("div",Ee,[i.user.photos.length>0?(s(),n(w,{height:"100",cover:"",key:i.user.photos[0].id,src:i.user.photos[0].urls.small},null,8,["src"])):I("",!0),i.user.photos.length>1?(s(),n(w,{class:"mx-1",height:"100",cover:"",key:i.user.photos[1].id,src:i.user.photos[1].urls.small},null,8,["src"])):I("",!0),i.user.photos.length>2?(s(),n(w,{height:"100",cover:"",key:i.user.photos[2].id,src:i.user.photos[2].urls.small},null,8,["src"])):I("",!0)]),t(N,null,{default:e(()=>[t(q,{location:"bottom",text:"Profile"},{activator:e(({props:m})=>[t(_,D({color:"primary",variant:"flat",block:""},m,{to:`/apps/unsplash/user/${i.user.username}`}),{default:e(()=>[c(" Profile")]),_:2},1040,["to"])]),_:1})]),_:1})]),_:1})]))}});const Me=ae(Ge,[["__scopeId","data-v-4cc80150"]]),Ne={class:"ml-2"},Ke={class:"ml-2"},We={class:"ml-2"},Je=["src"],Qe={class:"pa-2 flex-fill"},Xe=["src"],Ze={class:"text-accent"},He={class:"card-top bg-secondary-lighten-1 text-content"},Oe=["src"],Ye={class:"flex-fill"},et=te({__name:"PhotosPage",setup(i){const $=le(),K=Se(),m=b({url:E+"search?",query:"blue",perPage:20,page:1}),h=b({url:E+"search/photos?",query:"blue",perPage:20,page:1}),S=b({url:E+"search/collections?",query:"blue",perPage:20,page:1}),z=b({url:E+"search/users?",query:"blue",perPage:20,page:1}),y=b({photos:[],total:0,totalPages:0}),V=b({collections:[],total:0,totalPages:0}),k=b({users:[],total:0,totalPages:0}),F=A([]),T=A(null),W=async()=>{const l=await j.get(`${m.url}page=${m.page}&per_page=${m.perPage}&query=${m.query}`,R);y.photos=l.data.photos.results,y.total=l.data.photos.total,y.totalPages=l.data.photos.total_pages,V.collections=l.data.collections.results,V.total=l.data.collections.total,V.totalPages=l.data.collections.total_pages,k.users=l.data.users.results,k.total=l.data.users.total,k.totalPages=l.data.users.total_pages,F.value=l.data.related_searches,ue()};ve(()=>{W()});const ue=()=>{y.photos.forEach(l=>{l.liked_by_user=$.favoriteList.some(d=>d.id===l.id)})},ce=async()=>{h.page++;const l=await j.get(`${h.url}page=${h.page}&per_page=${h.perPage}&query=${h.query}`,R);y.photos.push(...l.data.results)},ie=async()=>{S.page++;const l=await j.get(`${S.url}page=${S.page}&per_page=${S.perPage}&query=${S.query}`,R);V.collections.push(...l.data.results)},de=async()=>{z.page++;const l=await j.get(`${z.url}page=${z.page}&per_page=${z.perPage}&query=${z.query}`,R);k.users.push(...l.data.results)},J=l=>{m.query=l,h.query=l,S.query=l,z.query=l,W()},f=b({isShow:!1,timeout:1e3,text:""}),pe=l=>{l.liked_by_user?(f.text="Removed from your favorite",f.isShow=!0,$.removeFromFavorite(l),l.likes--):(f.text="Added to your favorite",f.isShow=!0,$.addToFavorite(l),l.likes++),l.liked_by_user=!l.liked_by_user},_e=l=>{const d=document.createElement("a");d.href=l.links.download+"&force=true",d.download=l.id+".jpg",d.click(),f.text="Downloading now, please wait",f.timeout=2e3,f.isShow=!0,f.timeout=1e3},L=A(!1),se=A(""),he=l=>{se.value=l,L.value=!0};return(l,d)=>(s(),n(ye,{class:"photo-page"},{default:e(()=>[t(ne,{color:"primary"},{default:e(()=>[t(ke),t(xe,{modelValue:o(m).query,"onUpdate:modelValue":d[0]||(d[0]=a=>o(m).query=a),"hide-details":"","prepend-inner-icon":"mdi-magnify","single-line":"",placeholder:"Search photos",onKeyup:be(W,["enter"])},null,8,["modelValue","onKeyup"]),t(G),t(_,{color:""},{default:e(()=>[c("Go")]),_:1})]),_:1}),t(x,{"no-gutters":""},{default:e(()=>[t(U,{cols:"12",xl:"10"},{default:e(()=>[t(g,{class:"mt-2"},{default:e(()=>[t(we,{modelValue:o(T),"onUpdate:modelValue":d[1]||(d[1]=a=>X(T)?T.value=a:null),"bg-color":"primary"},{default:e(()=>[t(Z,{value:"photos"},{default:e(()=>[t(B,{class:"mr-2"},{default:e(()=>[c("mdi-image-outline")]),_:1}),c(" photos "),r("span",Ne,"("+u(o(y).total)+")",1)]),_:1}),t(Z,{value:"collections"},{default:e(()=>[c(" collections"),r("span",Ke,"("+u(o(V).total)+")",1)]),_:1}),t(Z,{value:"users"},{default:e(()=>[t(B,{class:"mr-2"},{default:e(()=>[c("mdi-account-multiple")]),_:1}),c(" users"),r("span",We,"("+u(o(k).total)+")",1)]),_:1})]),_:1},8,["modelValue"]),t(H,null,{default:e(()=>[t(Ve,{modelValue:o(T),"onUpdate:modelValue":d[2]||(d[2]=a=>X(T)?T.value=a:null)},{default:e(()=>[t(O,{value:"photos"},{default:e(()=>[o(y).total===0?(s(),n(g,{key:0,"min-height":"80vh",class:"pa-5 d-flex align-center justify-center"},{default:e(()=>[t(w,{src:"https://unsplash-assets.imgix.net/empty-states/photos.png",height:"400"})]),_:1})):(s(),n(g,{key:1,"min-height":"80vh",class:"pa-5"},{default:e(()=>[t(x,null,{default:e(()=>[t(Y,{"show-arrows":""},{default:e(()=>[(s(!0),v(C,null,P(o(F),a=>(s(),n(ee,{key:a.title},{default:e(({isSelected:p})=>[t(_,{class:"ma-2",rounded:"",color:p?"primary":void 0,onClick:Q=>J(a.title)},{default:e(()=>[c(u(a.title),1)]),_:2},1032,["color","onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),t(x,null,{default:e(()=>[(s(!0),v(C,null,P(o(y).photos,a=>(s(),n(U,{cols:"12",xl:"2",lg:"3",md:"4",sm:"6",key:a.id},{default:e(()=>[t(g,{width:"100%",class:"info-card photo-card d-flex flex-column",height:"480"},{default:e(()=>[r("div",null,[t(w,{class:"align-end text-white",src:a.urls.small,"lazy-src":a.urls.small,height:"300",cover:"",onClick:p=>he(a.id)},{placeholder:e(()=>[t(x,{class:"fill-height ma-0",align:"center",justify:"center"},{default:e(()=>[t(Ce,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),default:e(()=>[t(oe,{class:"card-title"},{default:e(()=>[t(M,{size:"avatarSize",class:"mr-2"},{default:e(()=>[r("img",{src:a.user.profile_image.small,alt:"alt"},null,8,Je)]),_:2},1024),c(" "+u(a.user.username),1)]),_:2},1024)]),_:2},1032,["src","lazy-src","onClick"])]),t(re,{class:"mt-5"},{default:e(()=>[r("div",null," size: height:"+u(a.height)+" width:"+u(a.width),1)]),_:2},1024),t(H,null,{default:e(()=>[c(u(a.alt_description)+" ",1),r("div",null,u(a.download_url),1)]),_:2},1024),t(N,null,{default:e(()=>[t(_,{onClick:p=>pe(a)},{default:e(()=>[a.liked_by_user?(s(),n(B,{key:0,start:"",color:"pink",icon:"mdi-heart",class:"heartBeat"})):(s(),n(B,{key:1,start:"",icon:"mdi-heart-outline"})),c(" Like("+u(a.likes)+") ",1),t(q,{activator:"parent",location:"bottom",class:"",text:a.liked_by_user?"Liked":"Like"},null,8,["text"])]),_:2},1032,["onClick"]),t(G),t(q,{location:"bottom",text:"Download"},{activator:e(({props:p})=>[t(_,D(p,{icon:"mdi-download",onClick:Q=>_e(a)}),null,16,["onClick"])]),_:2},1024),t(q,{location:"bottom",text:"Add To Collection"},{activator:e(({props:p})=>[t(_,D(p,{icon:"mdi-plus"}),null,16)]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),o(h).page<o(y).totalPages?(s(),n(_,{key:0,color:"",class:"gradient info mt-5",block:"",size:"large",onClick:ce},{default:e(()=>[c("More Photos...")]),_:1})):I("",!0)]),_:1}))]),_:1}),t(O,{value:"collections"},{default:e(()=>[o(V).total===0?(s(),n(g,{key:0,"min-height":"80vh",class:"pa-5 d-flex align-center justify-center"},{default:e(()=>[t(w,{src:"https://unsplash-assets.imgix.net/empty-states/photos.png",height:"400"})]),_:1})):(s(),n(g,{key:1,"min-height":"80vh",class:"pa-5"},{default:e(()=>[t(x,null,{default:e(()=>[t(Y,{"show-arrows":""},{default:e(()=>[(s(!0),v(C,null,P(o(F),a=>(s(),n(ee,{key:a.title},{default:e(({isSelected:p})=>[t(_,{class:"ma-2",rounded:"",color:p?"primary":void 0,onClick:Q=>J(a.title)},{default:e(()=>[c(u(a.title),1)]),_:2},1032,["color","onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),t(x,null,{default:e(()=>[(s(!0),v(C,null,P(o(V).collections,a=>(s(),n(U,{cols:"12",lg:"6",xl:"4",key:a.id},{default:e(()=>[t(g,{class:"info-card collection-card d-flex mt-5",color:"secondary-lighten-1"},{default:e(()=>[t(w,{"max-width":"200","aspect-ratio":"1",cover:"",src:a.cover_photo.urls.small,"lazy-src":a.cover_photo.urls.small,onClick:p=>o(K).push({name:"unsplash-collection",params:{id:a.id}})},null,8,["src","lazy-src","onClick"]),r("div",Qe,[t(oe,null,{default:e(()=>[c(u(a.title),1)]),_:2},1024),t(re,{class:"pt-4"},{default:e(()=>[t(M,{size:"avatarSize"},{default:e(()=>[r("img",{src:a.user.profile_image.small,alt:"alt"},null,8,Xe)]),_:2},1024),c(" "+u(a.user.username),1)]),_:2},1024),t(H,null,{default:e(()=>[r("div",null,u(a.description),1)]),_:2},1024),t(N,null,{default:e(()=>[r("span",null,u(a.published_at),1),t(G),r("span",Ze,u(a.total_photos),1)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1}),o(S).page<o(V).totalPages?(s(),n(_,{key:0,color:"",class:"gradient info mt-5",block:"",size:"large",onClick:ie},{default:e(()=>[c("More Collections...")]),_:1})):I("",!0)]),_:1}))]),_:1}),t(O,{value:"users"},{default:e(()=>[o(k).total===0?(s(),n(g,{key:0,"min-height":"80vh",class:"pa-5 d-flex align-center justify-center"},{default:e(()=>[t(w,{src:"https://unsplash-assets.imgix.net/empty-states/photos.png",height:"400"})]),_:1})):(s(),n(g,{key:1,"min-height":"80vh",class:"pa-5"},{default:e(()=>[t(x,null,{default:e(()=>[t(Y,{"show-arrows":""},{default:e(()=>[(s(!0),v(C,null,P(o(F),a=>(s(),n(ee,{key:a.title},{default:e(({isSelected:p})=>[t(_,{class:"ma-2",rounded:"",color:p?"primary":void 0,onClick:Q=>J(a.title)},{default:e(()=>[c(u(a.title),1)]),_:2},1032,["color","onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),t(x,null,{default:e(()=>[(s(!0),v(C,null,P(o(k).users,a=>(s(),n(U,{cols:"12",lg:"3",md:"4",sm:"6",key:a.id},{default:e(()=>[t(g,{width:"100%",class:"info-card user-card d-flex flex-column justify-space-between"},{default:e(()=>[r("div",He,[t(M,{class:"mr-5",size:"avatarSize"},{default:e(()=>[r("img",{src:a.profile_image.small,alt:"alt"},null,8,Oe)]),_:2},1024),r("div",Ye,[r("h5",null,u(a.name),1),r("h5",null,u(a.username),1)]),t(q,{location:"bottom",text:"Add To Collection"},{activator:e(({props:p})=>[t(_,D(p,{icon:"mdi-plus"}),null,16)]),_:1})]),t(N,null,{default:e(()=>[t(q,{location:"bottom",text:"Add To Collection"},{activator:e(({props:p})=>[t(_,D({color:"primary",variant:"flat",block:""},p,{to:`/apps/unsplash/user/${a.username}`}),{default:e(()=>[c(" Profile")]),_:2},1040,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),o(z).page<o(k).totalPages?(s(),n(_,{key:0,color:"",class:"gradient info mt-5",block:"",size:"large",onClick:de},{default:e(()=>[c("More Users...")]),_:1})):I("",!0),t(x,null,{default:e(()=>[(s(!0),v(C,null,P(o(k).users,a=>(s(),n(U,{cols:"12",lg:"4",sm:"6",key:a.id},{default:e(()=>[t(Me,{user:a},null,8,["user"])]),_:2},1024))),128))]),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(U,{cols:"0",xl:"2"},{default:e(()=>[t(Be)]),_:1})]),_:1}),t(Pe,{modelValue:o(f).isShow,"onUpdate:modelValue":d[4]||(d[4]=a=>o(f).isShow=a),timeout:o(f).timeout},{actions:e(()=>[t(_,{color:"blue",variant:"text",onClick:d[3]||(d[3]=a=>o(f).isShow=!1)},{default:e(()=>[c(" Close ")]),_:1})]),default:e(()=>[c(u(o(f).text)+" ",1)]),_:1},8,["modelValue","timeout"]),t($e,{modelValue:o(L),"onUpdate:modelValue":d[5]||(d[5]=a=>X(L)?L.value=a:null)},{default:e(()=>[t(ze,{photoId:o(se)},null,8,["photoId"])]),_:1},8,["modelValue"])]),_:1}))}});const ot=ae(et,[["__scopeId","data-v-2980c589"]]);export{ot as default};
