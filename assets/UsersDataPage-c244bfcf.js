import{s as v}from"./unsplashApi-cf2a1fd3.js";import{p as V,v as u,u as b,c as x,w as o,d as w,o as C,a as l,g as U,K as q,m as t,I as A,C as c,D as N,j as z,U as D,A as T,t as s,k as _,h as p,E as B,f as L,O}from"./index-238de57f.js";const P=t("span",null," Unsplash Users",-1),S={class:"w-25"},H={class:""},I={class:"font-weight-bold text-body-2"},R=["src"],j={class:"text-center"},E={class:"text-center"},F=["href"],M=V({__name:"UsersDataPage",setup(K){const d=u(!0),m=u(0),n=b({query:"cat",page:1,per_page:25}),h=[{title:"用户名",key:"username"},{title:"头像",key:"avatar"},{title:"用户id",key:"id"},{title:"全名",key:"name"},{title:"位置",key:"location",width:"200px"},{title:"是否可用",key:"for_hire",align:"center"},{title:"收藏数",key:"total_collections",align:"center"},{title:"喜欢数",key:"total_likes",align:"center"},{title:"照片数",key:"total_photos",align:"center"},{title:"接受条款",key:"accepted_tos",align:"center"},{title:"作品集",key:"portfolio_url"}],f=u([]),g=async()=>{d.value=!0;const i=await v(n);f.value=i.data.results.map(a=>({id:a.id,avatar:a.profile_image.small,username:a.username,name:a.name,location:a.location,for_hire:a.for_hire,total_collections:a.total_collections,total_likes:a.total_likes,total_photos:a.total_photos,accepted_tos:a.accepted_tos,portfolio_url:a.portfolio_url})),m.value=i.data.total,d.value=!1},y=async r=>{n.query&&(n.per_page=r.itemsPerPage,n.page=r.page,await g())},k=r=>r>400?"red":r>200?"orange":"grey";return(r,i)=>{const a=O("v-data-table-server");return C(),x(w,null,{default:o(()=>[l(L,null,{default:o(()=>[l(U,{class:"font-weight-bold"},{default:o(()=>[P,l(q),t("div",S,[l(A,{modelValue:c(n).query,"onUpdate:modelValue":i[0]||(i[0]=e=>c(n).query=e),variant:"solo","prepend-inner-icon":"mdi-magnify","onClick:append":g,label:"Search","single-line":"","hide-details":"",clearable:"",density:"compact"},null,8,["modelValue"])])]),_:1}),l(N),l(z,{class:"table-container"},{default:o(()=>[l(a,{headers:h,items:c(f),search:c(n).query,loading:c(d),"items-per-page":c(n).per_page,"items-length":c(m),"item-value":"id","onUpdate:options":y,"fixed-header":"",height:"900"},{item:o(({item:e})=>[t("tr",H,[t("td",I,[l(D,{text:e.columns.username},null,8,["text"])]),t("td",null,[l(T,{size:"30"},{default:o(()=>[t("img",{src:e.columns.avatar,alt:"alt"},null,8,R)]),_:2},1024)]),t("td",null,s(e.columns.id),1),t("td",null,s(e.columns.name),1),t("td",null,s(e.columns.location),1),t("td",j,[l(_,{size:"small",color:e.columns.for_hire?"blue":"grey",class:"font-weight-bold"},{default:o(()=>[p(s(e.columns.for_hire?"Hire":"No Hire"),1)]),_:2},1032,["color"])]),t("td",null,s(e.columns.total_collections),1),t("td",null,[l(_,{size:"small",color:k(e.columns.total_likes),class:"font-weight-bold"},{default:o(()=>[p(s(e.columns.total_likes),1)]),_:2},1032,["color"])]),t("td",null,s(e.columns.total_photos),1),t("td",E,[l(_,{size:"small",color:e.columns.accepted_tos?"green":"pink",class:"font-weight-bold"},{default:o(()=>[l(B,{start:"",icon:e.columns.accepted_tos?"mdi-security ":"mdi-close-octagon"},null,8,["icon"]),p(" "+s(e.columns.accepted_tos?"Accepted":"Not Accepted"),1)]),_:2},1032,["color"])]),t("td",null,[t("a",{href:e.columns.portfolio_url,target:"_blank"},s(e.columns.portfolio_url),9,F)])])]),_:1},8,["items","search","loading","items-per-page","items-length"])]),_:1})]),_:1})]),_:1})}}});export{M as default};
